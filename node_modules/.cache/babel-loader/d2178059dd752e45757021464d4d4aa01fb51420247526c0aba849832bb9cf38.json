{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Neppplus/Desktop/\\uD3EC\\uD3F4/movie-list/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"C:/Users/Neppplus/Desktop/\\uD3EC\\uD3F4/movie-list/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Neppplus/Desktop/\\uD3EC\\uD3F4/movie-list/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Neppplus/Desktop/\\uD3EC\\uD3F4/movie-list/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import{useCallback,useEffect,useState}from\"react\";import{useLocation}from\"react-router-dom\";import styled from\"styled-components\";import{tmdbAxios}from\"../../api/tmdbAxios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MovieDetail(){var _useLocation=useLocation(),pathname=_useLocation.pathname;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];// movie가 null일 경우 {} 객체 비구조화 할당하므로 오류 발생 x\nvar _ref=movie!==null&&movie!==void 0?movie:{},title=_ref.title,overview=_ref.overview,poster_path=_ref.poster_path,backdrop_path=_ref.backdrop_path,release_date=_ref.release_date;var url=\"https://image.tmdb.org/t/p/w300/\"+poster_path;var backdrop_url=\"https://image.tmdb.org/t/p/original/\"+backdrop_path;var fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$tmdbAxios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return tmdbAxios.get(pathname,{// params 옵션을 통해서 여러개의 쿼리를 쉽게 붙일 수 있다.\nparams:{language:\"ko-KR\"// ?language=ko-KR\n}});case 2:_yield$tmdbAxios$get=_context.sent;data=_yield$tmdbAxios$get.data;setMovie(data);case 5:case\"end\":return _context.stop();}},_callee);})),[pathname]);useEffect(function(){fetchData();},[fetchData]);if(!movie)return/*#__PURE__*/_jsx(\"div\",{children:\"\\uB85C\\uB529\\uC911...\"});return/*#__PURE__*/_jsx(Container,{backdrop_url:backdrop_url,children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(ImgBox,{children:/*#__PURE__*/_jsx(\"img\",{src:url,alt:\"\"})}),/*#__PURE__*/_jsxs(ContentBox,{children:[/*#__PURE__*/_jsxs(Title,{children:[title,/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",release_date.substr(0,4),\")\"]})]}),/*#__PURE__*/_jsxs(SummaryBox,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uAC1C\\uC694\"}),/*#__PURE__*/_jsx(\"p\",{children:overview})]})]})]})});}var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 30px 0;\\n\\n  background: center / cover no-repeat;\\n  background-image: url(\",\");\\n  background-color: rgba(0, 0, 0, 0.6);\\n  background-blend-mode: multiply;\\n\"])),function(_ref3){var backdrop_url=_ref3.backdrop_url;return backdrop_url;});var Wrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  max-width: 900px;\\n  margin: 0 auto;\\n\"])));var ImgBox=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\"])));var ContentBox=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin-left: 20px;\\n  color: #fff;\\n\"])));var Title=styled.h2(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: 1.5rem;\\n  font-weight: 700px;\\n\\n  span {\\n    font-size: 1.2rem;\\n    font-weight: 500;\\n  }\\n\"])));var SummaryBox=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  margin-top: 50px;\\n  h4 {\\n    font-size: 1.1rem;\\n    font-weight: 700;\\n    margin-bottom: 10px;\\n  }\\n\"])));export default MovieDetail;","map":{"version":3,"names":["useCallback","useEffect","useState","useLocation","styled","tmdbAxios","MovieDetail","pathname","movie","setMovie","title","overview","poster_path","backdrop_path","release_date","url","backdrop_url","fetchData","get","params","language","data","substr","Container","div","Wrapper","ImgBox","ContentBox","Title","h2","SummaryBox"],"sources":["C:/Users/Neppplus/Desktop/포폴/movie-list/src/component/movie-list/MovieDetail.jsx"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { tmdbAxios } from \"../../api/tmdbAxios\";\r\n\r\nfunction MovieDetail() {\r\n  const { pathname } = useLocation();\r\n  const [movie, setMovie] = useState(null);\r\n\r\n  // movie가 null일 경우 {} 객체 비구조화 할당하므로 오류 발생 x\r\n  const { title, overview, poster_path, backdrop_path, release_date } =\r\n    movie ?? {};\r\n  const url = \"https://image.tmdb.org/t/p/w300/\" + poster_path;\r\n  const backdrop_url = \"https://image.tmdb.org/t/p/original/\" + backdrop_path;\r\n\r\n  const fetchData = useCallback(async () => {\r\n    const { data } = await tmdbAxios.get(pathname, {\r\n      // params 옵션을 통해서 여러개의 쿼리를 쉽게 붙일 수 있다.\r\n      params: {\r\n        language: \"ko-KR\", // ?language=ko-KR\r\n      },\r\n    });\r\n\r\n    setMovie(data);\r\n  }, [pathname]);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n\r\n  if (!movie) return <div>로딩중...</div>;\r\n\r\n  return (\r\n    <Container backdrop_url={backdrop_url}>\r\n      <Wrapper>\r\n        <ImgBox>\r\n          <img src={url} alt=\"\" />\r\n        </ImgBox>\r\n        <ContentBox>\r\n          <Title>\r\n            {title}\r\n            {/* 문자열.substr(시작인덱스, 길이) : 시작인덱스부터 길이만큼 자른다 */}\r\n            <span>({release_date.substr(0, 4)})</span>\r\n          </Title>\r\n\r\n          <SummaryBox>\r\n            <h4>개요</h4>\r\n            <p>{overview}</p>\r\n          </SummaryBox>\r\n        </ContentBox>\r\n      </Wrapper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 0;\r\n\r\n  background: center / cover no-repeat;\r\n  background-image: url(${({ backdrop_url }) => backdrop_url});\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  background-blend-mode: multiply;\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst ImgBox = styled.div``;\r\n\r\nconst ContentBox = styled.div`\r\n  margin-left: 20px;\r\n  color: #fff;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 1.5rem;\r\n  font-weight: 700px;\r\n\r\n  span {\r\n    font-size: 1.2rem;\r\n    font-weight: 500;\r\n  }\r\n`;\r\n\r\nconst SummaryBox = styled.div`\r\n  margin-top: 50px;\r\n  h4 {\r\n    font-size: 1.1rem;\r\n    font-weight: 700;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nexport default MovieDetail;\r\n"],"mappings":"qqBAAA,OAASA,WAAW,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACxD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,OAAM,KAAM,mBAAmB,CACtC,OAASC,SAAS,KAAQ,qBAAqB,CAAC,wFAEhD,QAASC,YAAW,EAAG,CACrB,iBAAqBH,WAAW,EAAE,CAA1BI,QAAQ,cAARA,QAAQ,CAChB,cAA0BL,QAAQ,CAAC,IAAI,CAAC,wCAAjCM,KAAK,eAAEC,QAAQ,eAEtB;AACA,SACED,KAAK,SAALA,KAAK,UAALA,KAAK,CAAI,CAAC,CAAC,CADLE,KAAK,MAALA,KAAK,CAAEC,QAAQ,MAARA,QAAQ,CAAEC,WAAW,MAAXA,WAAW,CAAEC,aAAa,MAAbA,aAAa,CAAEC,YAAY,MAAZA,YAAY,CAEjE,GAAMC,IAAG,CAAG,kCAAkC,CAAGH,WAAW,CAC5D,GAAMI,aAAY,CAAG,sCAAsC,CAAGH,aAAa,CAE3E,GAAMI,UAAS,CAAGjB,WAAW,wEAAC,wLACLK,UAAS,CAACa,GAAG,CAACX,QAAQ,CAAE,CAC7C;AACAY,MAAM,CAAE,CACNC,QAAQ,CAAE,OAAS;AACrB,CACF,CAAC,CAAC,2CALMC,IAAI,sBAAJA,IAAI,CAOZZ,QAAQ,CAACY,IAAI,CAAC,CAAC,qDAChB,GAAE,CAACd,QAAQ,CAAC,CAAC,CAEdN,SAAS,CAAC,UAAM,CACdgB,SAAS,EAAE,CACb,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,GAAI,CAACT,KAAK,CAAE,mBAAO,qBAAK,uBAAM,EAAM,CAEpC,mBACE,KAAC,SAAS,EAAC,YAAY,CAAEQ,YAAa,uBACpC,MAAC,OAAO,yBACN,KAAC,MAAM,wBACL,YAAK,GAAG,CAAED,GAAI,CAAC,GAAG,CAAC,EAAE,EAAG,EACjB,cACT,MAAC,UAAU,yBACT,MAAC,KAAK,YACHL,KAAK,cAEN,wBAAM,GAAC,CAACI,YAAY,CAACQ,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,GAAC,GAAO,GACpC,cAER,MAAC,UAAU,yBACT,oBAAI,cAAE,EAAK,cACX,mBAAIX,QAAQ,EAAK,GACN,GACF,GACL,EACA,CAEhB,CAEA,GAAMY,UAAS,CAAGnB,MAAM,CAACoB,GAAG,8OAIF,mBAAGR,aAAY,OAAZA,YAAY,OAAOA,aAAY,GAG3D,CAED,GAAMS,QAAO,CAAGrB,MAAM,CAACoB,GAAG,uJAKzB,CAED,GAAME,OAAM,CAAGtB,MAAM,CAACoB,GAAG,mEAAE,CAE3B,GAAMG,WAAU,CAAGvB,MAAM,CAACoB,GAAG,2GAG5B,CAED,GAAMI,MAAK,CAAGxB,MAAM,CAACyB,EAAE,kLAQtB,CAED,GAAMC,WAAU,CAAG1B,MAAM,CAACoB,GAAG,gLAO5B,CAED,cAAelB,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}